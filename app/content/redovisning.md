Redovisning
=============================

Kmom01: PHP-baserade och MVC-inspirerade ramverk
-----------------------------
Till denna kurs har jag bytt texteditor från Notepad ++ till Sublime Text. Jag kände att notepad blir mindre och mindre praktiskt ju mer sidorna växer och JEdit trivdes jag inte alls med. Jag använder fortfarande FileZilla för uppladdning till studentservern samt wamp som lokal webbserver.

Jag har sedan tidigare använt designmönster från GRASP tidigare såsom protected variations, polymorphism och high cohesion. Därför är jag redan lite introducerad till vissa av mönstren som används i ramverk samt många av begreppen som tas upp. Det kändes bra med mycket inledande läsning till kursmomentet såatt man får flera bra teoretiska källor som grund och för att se tillbaka på om det behövs. Jag har inte tidigare använt något specifikt ramverk förutom möjligtvis Bottle till Python. Det ska bli lärorikt att göra en djupdykning i just MVC som verkar vara väldigt användbart på arbetsmarknaden.

Det var till en början svårt att hänga med i genomgången av Anax-MVC och det tog tid att förstå de olika delarna av ramverket och dess uppgifter. Jag tror fortfarande att det kommer ta något kursmoment till innan man känner sig helt hemma med strukturen. Dock tror jag också att det likt tidigare Anax kommer bli smidigt att arbeta i när man väl kommit in i det. 

URL-omskrivningen tog extra lång tid innan jag förstod vad som skulle hända och hur det fungerade. Det ställde till en del problem när jag arbetade med sida på min lokala webbserver även om jag kommenterade bort RewriteBase i .htaccess-filen. Problemet berodde på att jag inte hade enablat url-omskrivning i Apaches configurations-fil.

På me-sidan bytte jag färger, logga samt satte skugga på main och lite borders. Jag har även laddat upp mitt Anax-MVC på github. Jag tror att detta kursmomentet gav mig en bra inledning till denna kursen och det känns att jag är tillräckligt insatt i PHP nu efter de två senaste kurserna för att gå vidare nu med detta som inte verkar helt oinveklat.

Kmom02: Kontroller och modeller
--------------------------------
Användningen av Composer fungerade fint för mig. Även om vi inte gjorde så jättemycket med composer, kändes det bra att få en introduktion till verktyget så att man kan fortsätta att undersöka det på egen hand. Jag har inte använt windows-terminal så mycket förut. Jag har dock arbetat en del med unix-terminal och jag var tvungen att kolla upp en del kommandon till window nu under kursmomentet. Detta eftersom kommandona jag var tvungen att använda på mitt windows 7 varken är lika de som visades i kurskoden eller unix-kommandona jag är bekant med.

Jag tycker att det såg ut att finnas en hel del användbara paket i Packagist. T.ex. loggnings-lösningar, unit-testing-ramverk m.m.. Jag hittade dock ingenting som jag kände var direkt användbart i mitt Anax-MVC för tillfället. Jag kände inte till sidan innan, så det är bra att man vet att det finns nu.

När jag väl började kika på kontroller-klasser, router och dispatcher var det lättare att förstå än vad jag först trodde. Det som tog längst tid att känna sig säker på var hur dispatchern skulle användas och meningen med den. Efter att studerat comments-grunden och lekt med den en stund kände jag mig redo att utöka den.

Jag tycker att comments var en bra grund att bygga på. Något som man fick lägga till som kunde ha funnits innan i CommentsInSession-klassen är ett fält för en unik identifierare, vilket är nödvändigt om man ska ha flera oberoende kommentars-sektioner på en webbplats.

I övrigt gick det bra att arbeta med uppgiften, men jag gjorde misstaget att inte ta med i beräkningarna från början att det skulle vara möjligt med två oberoende comments-moduler. Det blev mycket svårare att lägga till det efteråt än om jag hade tänkt på det från början eftersom det skulle ändras på många ställen i koden och det blev fel och förvirring innan jag fick ihop alltsammans. Jag lade till avatar-funktion innna jag såg att extrauppgiften var att använda Gravatar, men jag valde att behålla min avatar-lösning ändå.

Jag tycker att detta kursomoment - precis som tänkt - gav mig en möjlighet att bekanta mig med ramverket. Jag har fått uträtat en hel del frågetecken som uppstod vi kmom1. 

Kmom03: Bygg ett eget tema
--------------------------------
Jag har varken haft tidigare erfarenhet av CSS-ramverk eller grid-baserad design, så detta har varit ett mycket lärorikt kursmoment för min del. Ramverk för CSS känns väldigt användbart när man ska göra lite mer avancerad layout som fungerar bra på många skärmar och enheter. LESS, som jag inte hört talas om tidigare,  var väldigt goda nyheter eftersom det möjliggör variabler, funktioner och annat i CSS så att det fungerar lite mer som ett riktigt språk. Nackdelen är ju att det måste kompileras, men med lessphp som vi använde var detta inget problem. Ibland kan det först tyckas lite krångligt när man ska ladda ned flera saker såhär och integrera det med strukturen man har Det krävdes dock inte så mycket för att komma igång med LESS och lessphp, så detta funkade väldigt bra enligt mig. Grid-baserad design verkar vara väldigt tidskrävande att börja med från scratch, så semantic.gs var också ett välkommet ramverk. Det tog väl en stund innan man kom in i det och fattade hur man skulle använda det, men mixinsen och variablerna man använder är mycket smidiga och man kunde enkelt gå över till att göra en responsiv layout. Denna trion av verktyg känns bra i helhet och jag kan tänka mig att använda detta mer i framtiden.

När det kommer till den gridbaserade layouten tycker jag att det är ett snyggt och smidigt vis att designa en sida på när man väl kommit igång och satt upp en grid. Den vertikala griden känns väl viktigast. Det blir snyggt med den horisontella och det kan säkert vara bra om man strävar efter typografisk perfektion, men det verkar lite pilligt att få den att stämma med allt på sidan. 

Jag gillade verkligen Font Awsome och att det var så enkelt. Det är ofta man känner att man skulle vilja fylla sidor med mer ikoner och små-bilder, då de blir levande på ett annat sätt då. Är man inget grafiskt geni kan det kännas krångligt att få tag på fina bilder som man dessutom har rätt att använda, så Font Awsome gillas starkt från min sida.

När jag gjorde mitt tema kände jag för att testa göra menyn som ett sidoelement, vilket är någonting jag annars aldrig brukar göra. Så min utgångspunkt för temat blev att ha menyn på sidan. Jag är nöjd med hur temat blev, men det blev inte exakt så som jag egentligen ville ha det. Jag hade velat ha ett element under menyn, vilket jag bara delvis lyckades med. Dock hamnade elementet då längst ned på sidan vid footersen så jag skippade detta. Det är ju hur som helst bra att man kan bygga på menyn väldigt långt utan att den behöver byta utseende. Jag ville att det skulle bli fint på små skärmar och jag har som i kursexemplet tre olika brytpunkter. Den första är som standardinställningen, men i den andra hamnar en footer på egen rad. Det händer inte så mycket mer i den andra brytpunkten, men ganska mycket i den sista för väldit små skärmar. Det känns som att det blir lite för smalt att ha exempelvis main och sidebar bredvid varandra på mindre skärmar eftersom man ändå har allt det viktiga i mainen, så här får allt en egen rad förutom menyn och flash. Båda dessa hamnar ovanpå allt annat här, vilket jag är mycket nöjd med. Något annat som händer i sista brytpunkten är att jag förminskar texten i headern. Jag har testat temat både på min iphone och ipad och det ser bra ut. Jag trodde att den minsta inställningen skulle synas på min iphone, men det blir precis som med läsplattan att en footer-kolumn får egen rad bara.

Jag tittade lite på hur det skulle funka att ladda upp temat på GitHub. Dock är mitt tema ganska kopplat till ramverket på det viset att det använder ramverksspecifika filer och funktioner. Om jag från början hade byggt temat som fristående hade det nog gått smidigare. Nu har jag inte gjort så, utan baserar temats representation på filer och strukturer i ramverket. Därför har jag inte laddat upp det på GitHub.

Sammanfattningsvis har det varit kul och lärorikt med ett kursmoment ägnat åt design och layout. Jag tror att det är något jag skulle behöva lära mig lite mer om. Det har varit pilligt med vissa saker, men har i stort sett gått bra.

Kmom04: Databaser, ORM och Scaffolding
---------------------------------------
I detta kursmoment har jag fått bekanta mig med en hel del nya begrepp och koncept. Jag har även fått lite repetition på saker jag varit bekant med sedan tidigare, vilket främst gäller den inledande läsningen om designmönster. Singleton och factory-mönstren har jag arbetat med i Java, men databasmönstren var helt nya och jag tycker att det är bra läsning. De inledande installationerna och övningarna gick bra och hyfsat snabbt att gå igenom. Det enda problemet jag stötte på där var vid installationen av databaspaketet då installationen tog bort form-paketet. Detta löstes genom att ha både form- och databaspaketet i samma klammrar.

När man vant sig vid det traditionella sättet att skapa forms på, kändes det som att det blev krångligare på det här sättet även om det såklart kan spara in lite tid när man väl fått ordning på det. Fördelen här är väl att man enkelt kan baka in mindre forms i PHP-koden. Om man gör stora forms som ändå ska få separata filer, tycker jag nästan att det går lika bra att koda dem med HTML. När det gäller databaser föredrar jag dock detta sättet att arbeta på framför att skriva traditionell SQL. Har man ett färdigt paket såhär bilr det oftast rätt på en gång utan att man behöver sitta och felsöka en hemskriven query. Verbose-stödet underlättar dock när man jobbar med databaser på detta vis, för ibland använder man en färdig databas funktion och tror att man förstår precis vad som händer när man egentligen missuppfattat funktionens sätt att arbeta. Då är det användbart att se precis vilken SQL-output som blir av funktionerna.

Avseende vägval under de två uppgifterna fanns det en del implementationssätt att välja på - särskilt när det gäller forms. Jag valde att göra alla forms som controllers och om det var det bästa sättet vet jag inte riktigt. Det blev en hel del controllers och routes i indexfilen. I efterhand kanske jag istället hade gjort en gemensam controller för varje moduls forms och haft varje form som en action i dem. När jag arbetade med användarna valde jag att - förutom att ha ett formulär för ny användare - även göra den fullständiga borttagningen som ett formulär där man skriver in akronym och lösenord för att få bort användaren. Avaktivering och aktivering kan man dock göra via den separata användarens sida. Arbetet med användarna flöt på ganska bra, förmodligen eftersom man gjorde det från scratch. För sen när jag arbetade med att göra om mitt kommentarssystem stötte jag på mycket problem. Det blev helt enkelt struligt, det var mycket routes och parametrar och det blev ganska oorganiserat som det lätt blir när man ska ändra på någonting. Man var tvungen att tänka om lite på vissa delar; "just ja... det är ju databas som gäller nu". Exempelvis när jag skulle lägga till borttagning av kommentar började jag skriva en egen borttagningsfunktion för att ta bort där det stämde med både id och identifierare - inte bara id som den funktionen som fanns stödjde. Jag började ändra i den initiala query-skapar-filen m.m. när det plötsligt gick upp för mig att alla kommentarer för hela sidan låg i samma tabell och att det omöjligt kunde finnas flera med samma id. Annars liknar mitt kommentarssystem med dess funktioner och uppdelning mycket det tidigare sessionsstyrda. Det var väl att jag ville skriva om så lite som möjligt som blev min nackdel. Jag skulle ha byggt ett nytt från scratch och bara utgå från stilen och funktionaliteten från det första.

Ett problem jag stötte på som gällde för båda uppgifterna som jag inte såg förrän i slutet, var att formulären tog varandras sparade information från sessionen och jag fick olika notiser från CForm-klassen. Allt fungerade precis som det skulle bortsett från detta som visade sig ha att föra med att jag först och främst hela tiden sparade formulären i sessionen samt att jag missuppfattat callback-funktionernas roller. Efter ganska mycket pill och provande fram och tillbaka fick jag det dock att fungera normalt.

Jag tror att motgångarna under detta kursmoment har bidragit med en del ny kunskap och framför allt en mer djupgående förståelse för just detta ramverket.